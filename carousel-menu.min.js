/** jQuery CarouselMenu 1.0
  * @version: 1.00
  * @author: Pablo E. Fern√°ndez (islavisual@gmail.com).
  * Copyright 2016 Islavisual. 
  * Licensed under MIT (https://github.com/islavisual/bootstrapCarouselMenu/blob/master/LICENSE). 
  * Last update: 06/04/2016
  **/
$.fn.carouselMenu=function(i){function t(){$(window).width()<768?($(".carousel-menu-button").hide(),$("> div",n).removeClass("items").find("ul").removeClass("visible"),n.css({height:"","min-height":""})):($(".carousel-menu-button").show(),n.find("ul:first").addClass("visible").parent().addClass("items"),n.css({height:e.height,"min-height":e.height}));for(var i=$(".navbar-collapse > ul",n),t=0;t<i.length;++t){var s=$(i[t]);s.css("left",$(window).width()*t)}}var e=$.extend({duration:500,height:"auto",hoverEffect:!1,nextClass:"button right",nextId:"carousel-menu-next",prevClass:"button left",prevId:"carousel-menu-prev"},i),s="stop",n=$(this);n.append('<a id="'+e.prevId+'" class="'+e.prevClass+' carousel-menu-button"><span class="icon"></span></a><a id="'+e.nextId+'" class="'+e.nextClass+' carousel-menu-button"><span class="icon"></span></a>'),t();for(var l=$("div > ul",n),o=0;o<l.length;++o){var a=$(l[o]);a.css("left",$(window).width()*o)}$("#"+e.nextId).on("click",function(i){if(i.preventDefault(),"stop"==s){s="progress",$("div > ul:not(.visible)",n).css("left",$(window).width()+"px");var t=$("ul.visible",n).removeClass("visible").index()+1;$("div > ul:nth-child("+t+")",n).animate({left:-1*$(window).width()+"px"},e.duration),t++,t>$("div > ul",n).length&&(t=1),$("div > ul:nth-child("+t+")",n).animate({left:"0px"},e.duration,function(){$(this).addClass("visible"),s="stop"})}}),$("> ul li > a",$("#"+e.prevId).prev()).on("click",function(){0!=$(this).parents(".items").length?$(this).next().css({left:$(this).offset().left+"px",position:"fixed",top:"50px",width:"auto"}):$(this).next().css({left:"",position:"",top:"",width:""})}),$("#"+e.prevId).on("click",function(i){if(i.preventDefault(),"stop"==s){s="progress",$("div > ul:not(.visible)",n).css("left",-1*$(window).width()+"px");var t=$("ul.visible",n).removeClass("visible").index()+1;$("div > ul:nth-child("+t+")",n).animate({left:$(window).width()+"px"},e.duration),t++,t>$("div > ul",n).length&&(t=1),$("div > ul:nth-child("+t+")",n).animate({left:"0px"},e.duration,function(){$(this).addClass("visible"),s="stop"})}}),e.hoverEffect&&$("ul.nav li.dropdown").hover(function(){return"none"!=$(".navbar-toggle").css("display")?!0:($("> a",$(this)).click(),void $(this).find(".dropdown-menu").stop(!0,!0).show())},function(){return"none"!=$(".navbar-toggle").css("display")?!0:void $(this).find(".dropdown-menu").stop(!0,!0).css("display","")}),$(window).resize(function(){t()})};
